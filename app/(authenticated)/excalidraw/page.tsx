"use client";
import React, { useState } from "react";
import dynamic from "next/dynamic";
import "@excalidraw/excalidraw/index.css";
import {
  AppState,
  ExcalidrawImperativeAPI,
} from "@excalidraw/excalidraw/types";
import { useTheme } from "next-themes";

const Excalidraw = dynamic(
  async () => (await import("@excalidraw/excalidraw")).Excalidraw,
  {
    ssr: false,
  }
);

const page = () => {
  console.log(Excalidraw.displayName, "Excalidraw");
  const [excalidrawAPI, setExcalidrawAPI] =
    useState<ExcalidrawImperativeAPI | null>(null);
  const [currentAppState, setCurrentAppState] = useState<AppState | null>(null);
  const { theme } = useTheme();

  console.log(currentAppState, "currentAppState");
  return (
    <div className="h-[calc(100vh-80px)] w-full">
      {/* @ts-ignore */}
      <Excalidraw
        initialData={{
          elements: [
            {
              id: "5ujpXkUrTfNESWWZ74Trm",
              type: "rectangle",
              x: -1484.5327341413677,
              y: -244.94275737302632,
              width: 314.85044603813185,
              height: 193.10831627437892,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a0",
              roundness: {
                type: 3,
              },
              seed: 1069851408,
              version: 69,
              versionNonce: 1544706832,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057810,
              link: null,
              locked: false,
            },
            {
              id: "alYVajOq7By8vQ2pxhJ6e",
              type: "text",
              x: -1472.2886035091797,
              y: -180.5733275116345,
              width: 286.2618408203125,
              height: 53.584095619766224,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a1",
              roundness: null,
              seed: 1935524112,
              version: 73,
              versionNonce: 1763745264,
              isDeleted: false,
              boundElements: [
                {
                  id: "GjUNC26il2i59yjllNAr3",
                  type: "arrow",
                },
              ],
              updated: 1750841057810,
              link: null,
              locked: false,
              text: "User Message",
              fontSize: 42.86727649581298,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "User Message",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "GjUNC26il2i59yjllNAr3",
              type: "arrow",
              x: -1166.8836601761095,
              y: -148.38862592603982,
              width: 317.649234106475,
              height: 1.3993940341715643,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a2",
              roundness: {
                type: 2,
              },
              seed: 1378033424,
              version: 98,
              versionNonce: 758413584,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057810,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [317.649234106475, 1.3993940341715643],
              ],
              lastCommittedPoint: null,
              startBinding: {
                elementId: "alYVajOq7By8vQ2pxhJ6e",
                focus: 0.04467461301699431,
                gap: 14,
              },
              endBinding: null,
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "sa5e7eQ-uFtA_Yd8nDcM1",
              type: "text",
              x: -1127.7022820118918,
              y: -208.5600338261347,
              width: 258.63116455078125,
              height: 33.99335315725068,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a3",
              roundness: null,
              seed: 747420944,
              version: 94,
              versionNonce: 1228365808,
              isDeleted: false,
              boundElements: [
                {
                  id: "i46kv9S9TGYWF2e6zXvPh",
                  type: "arrow",
                },
              ],
              updated: 1750841057810,
              link: null,
              locked: false,
              text: "{ chatId, Message}",
              fontSize: 27.194682525800545,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "{ chatId, Message}",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "CDCBkfcmMBARz4NpQv4_q",
              type: "text",
              x: -1178.5819841097864,
              y: -363.80612865109083,
              width: 440.857883398279,
              height: 52.72415083065563,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a4",
              roundness: null,
              seed: 68328208,
              version: 204,
              versionNonce: 274913040,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057810,
              link: null,
              locked: false,
              text: "Usually Phone Number",
              fontSize: 42.17932066452451,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Usually Phone Number",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "i46kv9S9TGYWF2e6zXvPh",
              type: "arrow",
              x: -1077.3261252371403,
              y: -299.51684269336306,
              width: 0,
              height: 76.96342901977505,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a5",
              roundness: {
                type: 2,
              },
              seed: 1798093072,
              version: 27,
              versionNonce: 1025892848,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057810,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [0, 76.96342901977505],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: {
                elementId: "sa5e7eQ-uFtA_Yd8nDcM1",
                focus: -0.6104401659231571,
                gap: 13.99337984745307,
              },
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "HsVj4RieUTc4YBD5EXuTg",
              type: "rectangle",
              x: -842.2377494910097,
              y: -235.14745286727612,
              width: 384.81721182438287,
              height: 170.71889250433196,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a6",
              roundness: {
                type: 3,
              },
              seed: 1699944208,
              version: 74,
              versionNonce: 2048226576,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057810,
              link: null,
              locked: false,
            },
            {
              id: "OwKeTApgZMWi_mIqJW8-T",
              type: "text",
              x: -828.9442134567598,
              y: -176.72521411183698,
              width: 370.41168320854683,
              height: 71.66468267950613,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a7",
              roundness: null,
              seed: 1191032080,
              version: 207,
              versionNonce: 1945379824,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057810,
              link: null,
              locked: false,
              text: "New Message gets stored \nin Redis ",
              fontSize: 28.665873071802448,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "New Message gets stored \nin Redis ",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "LFDK2MQNfWJmcs7Zo-OKX",
              type: "diamond",
              x: -531.5852453435664,
              y: -6.356136753292958,
              width: 256.078405482006,
              height: 221.09498255357505,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a8",
              roundness: {
                type: 2,
              },
              seed: 363107088,
              version: 129,
              versionNonce: 264524560,
              isDeleted: false,
              boundElements: [
                {
                  id: "2NJ8bTMPwZ61bQtEzUJ31",
                  type: "arrow",
                },
              ],
              updated: 1750841057810,
              link: null,
              locked: false,
            },
            {
              id: "t2CbqBuqiJzl3iCIu6teX",
              type: "text",
              x: -471.67919746426014,
              y: 85.4344144317738,
              width: 139.3786169359408,
              height: 34.10126476997122,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "a9",
              roundness: null,
              seed: 1740615952,
              version: 112,
              versionNonce: 2074748400,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Vector DB",
              fontSize: 27.281011815976978,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Vector DB",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "RDLmFbLTOxFt5efpku3_R",
              type: "arrow",
              x: -1168.2829207592677,
              y: -118.30289528578851,
              width: 279.8670631450059,
              height: 362.4279748857575,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aA",
              roundness: {
                type: 2,
              },
              seed: 1153896208,
              version: 155,
              versionNonce: 132608272,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [279.8670631450059, 362.4279748857575],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: null,
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "XzYqlVR1_mRXf3tdQijFZ",
              type: "ellipse",
              x: -975.1746044848878,
              y: 242.72560549518857,
              width: 249.08172890338028,
              height: 229.49101313106758,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aB",
              roundness: {
                type: 2,
              },
              seed: 87207184,
              version: 74,
              versionNonce: 1632626672,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
            },
            {
              id: "KOtxJpZ2dA46hFutFM2rY",
              type: "text",
              x: -963.776479187467,
              y: 345.2267679069091,
              width: 223.70509174234272,
              height: 26.996676578625284,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aC",
              roundness: null,
              seed: 846891792,
              version: 94,
              versionNonce: 167169808,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Generate Embeddings",
              fontSize: 21.597341262900237,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Generate Embeddings",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "2NJ8bTMPwZ61bQtEzUJ31",
              type: "arrow",
              x: -776.46903235626,
              y: 256.71895865243914,
              width: 249.97805180602154,
              height: 142.53467112636827,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aD",
              roundness: {
                type: 2,
              },
              seed: 1729538320,
              version: 199,
              versionNonce: 1357736432,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [249.97805180602154, -142.53467112636827],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: {
                elementId: "LFDK2MQNfWJmcs7Zo-OKX",
                focus: 0.4694568954826027,
                gap: 6.010199857872823,
              },
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "9aJdtsjkKto-DBK_C3YnW",
              type: "text",
              x: -680.2647294001627,
              y: 217.5374203470019,
              width: 715.6475291242476,
              height: 79.1814315446254,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aE",
              roundness: null,
              seed: 780076816,
              version: 424,
              versionNonce: 241855760,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Query Vector DB based on the query\nEmbeddings",
              fontSize: 31.67257261785016,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Query Vector DB based on the query Embeddings",
              autoResize: false,
              lineHeight: 1.25,
            },
            {
              id: "a7gE_wZpBx0qfwHVCeLHY",
              type: "arrow",
              x: -723.2942476543822,
              y: 347.6756474137537,
              width: 1036.9076611217097,
              height: 2.798734687936758,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aF",
              roundness: {
                type: 2,
              },
              seed: 1697359120,
              version: 507,
              versionNonce: 898280432,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [1036.9076611217097, -2.798734687936758],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: null,
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "6-pmqyHP15tEyld8eL28u",
              type: "text",
              x: -500.1004142613765,
              y: 360.2697933682539,
              width: 474.16400146484375,
              height: 35.39266712081263,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aG",
              roundness: null,
              seed: 412386064,
              version: 202,
              versionNonce: 1052396304,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Text is retrieved from embeddings",
              fontSize: 28.314133696650106,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Text is retrieved from embeddings",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "8flfXuEJpROeL8xHuvPfO",
              type: "rectangle",
              x: 386.86237498854916,
              y: 57.23585155608089,
              width: 475.7740073465102,
              height: 485.5694186130727,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aH",
              roundness: {
                type: 3,
              },
              seed: 1731305744,
              version: 232,
              versionNonce: 1496296944,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
            },
            {
              id: "V3pURXmRk7CrOLLZCllY3",
              type: "text",
              x: 429.8009640908249,
              y: 60.33255555529104,
              width: 337.88763427734375,
              height: 61.9800594717508,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aI",
              roundness: null,
              seed: 1618673424,
              version: 91,
              versionNonce: 1432250640,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Model- GPT-4",
              fontSize: 49.58404757740064,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Model- GPT-4",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "LBPnkikq7VmGulPKBF4YD",
              type: "text",
              x: 428.35875989164106,
              y: 118.53454284418603,
              width: 255.85614013671875,
              height: 76.38275023709411,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "transparent",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aJ",
              roundness: null,
              seed: 1692966160,
              version: 129,
              versionNonce: 82079728,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "- Prompt \n- Retrieved Text",
              fontSize: 30.553100094837646,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "- Prompt \n- Retrieved Text",
              autoResize: false,
              lineHeight: 1.25,
            },
            {
              id: "RiHgV7wxgD9A4YUFS6Rkk",
              type: "rectangle",
              x: 392.08233943645155,
              y: 286.3618649375039,
              width: 331.64253388331963,
              height: 166.52087054303502,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aK",
              roundness: {
                type: 3,
              },
              seed: 99777296,
              version: 210,
              versionNonce: 2110703376,
              isDeleted: false,
              boundElements: [
                {
                  id: "MZ3lkUVCbDmOOOxyj1ZI3",
                  type: "arrow",
                },
              ],
              updated: 1750841057811,
              link: null,
              locked: false,
            },
            {
              id: "BshV0bQ4njG_R0lIsAn48",
              type: "text",
              x: 401.98545770765577,
              y: 234.04764227897795,
              width: 242.47250304522913,
              height: 32.59393243287559,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aL",
              roundness: null,
              seed: 1712363792,
              version: 87,
              versionNonce: 548467184,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Tool Calls Available",
              fontSize: 26.07514594630047,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Tool Calls Available",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "tgq1sjgBtFAiImxZmcDjz",
              type: "text",
              x: 413.0460157471316,
              y: 314.8943222857142,
              width: 293.3850295027055,
              height: 35.76472614536652,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aM",
              roundness: null,
              seed: 414906128,
              version: 64,
              versionNonce: 881026320,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "get_memory_context",
              fontSize: 28.611780916293224,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "get_memory_context",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "dXoLG7oE7Hxs9bHkS0gN8",
              type: "text",
              x: 425.94520706397543,
              y: 369.94516494342133,
              width: 214.77847075055024,
              height: 40.070633029182396,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aN",
              roundness: null,
              seed: 40473872,
              version: 61,
              versionNonce: 1402811376,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "store_memory",
              fontSize: 32.056506423345944,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "store_memory",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "3UjPtu6eG-jXQwAiqIp4R",
              type: "arrow",
              x: 676.036829416089,
              y: 315.83211838006173,
              width: 292.7056579692944,
              height: 6.446954037184241,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aO",
              roundness: {
                type: 2,
              },
              seed: 949252880,
              version: 267,
              versionNonce: 653542160,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [292.7056579692944, -6.446954037184241],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: null,
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "zFNJjqsaCUzJ5lCRUjRxg",
              type: "rectangle",
              x: 985.3249420605853,
              y: 110.76145981684931,
              width: 434.68710278867803,
              height: 567.2235454069181,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aP",
              roundness: {
                type: 3,
              },
              seed: 1639158032,
              version: 757,
              versionNonce: 598816240,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
            },
            {
              id: "MZ3lkUVCbDmOOOxyj1ZI3",
              type: "arrow",
              x: 518.1690473565268,
              y: 408.7324155973083,
              width: 3.40579643147521,
              height: 197.5241111264172,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aQ",
              roundness: {
                type: 2,
              },
              seed: 356445968,
              version: 65,
              versionNonce: 328818960,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [3.40579643147521, 197.5241111264172],
              ],
              lastCommittedPoint: null,
              startBinding: {
                elementId: "RiHgV7wxgD9A4YUFS6Rkk",
                focus: 0.2415979104929352,
                gap: 14,
              },
              endBinding: null,
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "-a_FMjB5ud3817jtnFE7a",
              type: "rectangle",
              x: 361.51202506282516,
              y: 604.5537584208823,
              width: 374.6147427929236,
              height: 166.87376202365613,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aR",
              roundness: {
                type: 3,
              },
              seed: 1001295120,
              version: 20,
              versionNonce: 368375792,
              isDeleted: false,
              boundElements: [
                {
                  type: "text",
                  id: "eNi9Rrt4O6HpMoNPoSrO4",
                },
              ],
              updated: 1750841057811,
              link: null,
              locked: false,
            },
            {
              id: "eNi9Rrt4O6HpMoNPoSrO4",
              type: "text",
              x: 396.29595895928696,
              y: 635.4906394327104,
              width: 305.046875,
              height: 105,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aS",
              roundness: null,
              seed: 1853516560,
              version: 68,
              versionNonce: 2083258864,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057814,
              link: null,
              locked: false,
              text: "If required it stores the\nrequired user memory in\nMem0",
              fontSize: 28,
              fontFamily: 5,
              textAlign: "center",
              verticalAlign: "middle",
              containerId: "-a_FMjB5ud3817jtnFE7a",
              originalText:
                "If required it stores the required user memory in Mem0",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "tIQ7Z_COWcsu07CifamnM",
              type: "arrow",
              x: 1415.9494135750192,
              y: 302.9945444900286,
              width: 355.6756554253934,
              height: 1.954081614347615,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aT",
              roundness: {
                type: 2,
              },
              seed: 1478134032,
              version: 106,
              versionNonce: 1315994096,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [355.6756554253934, 1.954081614347615],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: null,
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "naWE6xVZvhhG9PZ2bMes5",
              type: "arrow",
              x: 1418.0696945386053,
              y: 380.7672966737464,
              width: 355.8189463099088,
              height: 1.9911417654420802,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aU",
              roundness: {
                type: 2,
              },
              seed: 335996688,
              version: 177,
              versionNonce: 1784700176,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              points: [
                [0, 0],
                [355.8189463099088, 1.9911417654420802],
              ],
              lastCommittedPoint: null,
              startBinding: null,
              endBinding: {
                elementId: "rVdE9wYhaTmNrE95s7rCg",
                focus: -0.018257434490573963,
                gap: 17.985588841873323,
              },
              startArrowhead: null,
              endArrowhead: "arrow",
              elbowed: false,
            },
            {
              id: "rVdE9wYhaTmNrE95s7rCg",
              type: "rectangle",
              x: 1785.3048330868141,
              y: 73.74976350655379,
              width: 494.427974296741,
              height: 609.7293009695954,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aV",
              roundness: {
                type: 3,
              },
              seed: 246908176,
              version: 90,
              versionNonce: 808172528,
              isDeleted: false,
              boundElements: [
                {
                  id: "naWE6xVZvhhG9PZ2bMes5",
                  type: "arrow",
                },
                {
                  type: "text",
                  id: "4ZtI-Cm8A8KNfi01zQAAI",
                },
              ],
              updated: 1750841057811,
              link: null,
              locked: false,
            },
            {
              id: "4ZtI-Cm8A8KNfi01zQAAI",
              type: "text",
              x: 1810.0588592976846,
              y: 311.1144139913515,
              width: 444.919921875,
              height: 135,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aW",
              roundness: null,
              seed: 1705272080,
              version: 74,
              versionNonce: 758531056,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057815,
              link: null,
              locked: false,
              text: "Final Output is sent through\nWhatsapp Test number to\nuser ",
              fontSize: 36,
              fontFamily: 5,
              textAlign: "center",
              verticalAlign: "middle",
              containerId: "rVdE9wYhaTmNrE95s7rCg",
              originalText:
                "Final Output is sent through Whatsapp Test number to user ",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "rUBfIap7TyKp6gkaQ_XA5",
              type: "text",
              x: 1041.1751836266385,
              y: 163.10360129407036,
              width: 380.087890625,
              height: 540,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aX",
              roundness: null,
              seed: 1195737360,
              version: 19,
              versionNonce: 2100215280,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "User message doesn't\n match top k\n embeddings\nrelated to document\n uploaded by admin\nthen it\nRetrieves from the \nmemory context\n\n\n\n",
              fontSize: 36,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText:
                "User message doesn't\n match top k\n embeddings\nrelated to document\n uploaded by admin\nthen it\nRetrieves from the \nmemory context\n\n\n\n",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "xOyQIXTFiJO-7BjkomhpY",
              type: "text",
              x: 1863.6003596866785,
              y: 130.80942285797028,
              width: 222.26390075683594,
              height: 45,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aY",
              roundness: null,
              seed: 1393745680,
              version: 28,
              versionNonce: 1083726096,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Final Result ",
              fontSize: 36,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Final Result ",
              autoResize: true,
              lineHeight: 1.25,
            },
            {
              id: "00q7MtJvLigeASFGKzWaj",
              type: "text",
              x: 2058.146797088776,
              y: 734.4061652721848,
              width: 94.67997741699219,
              height: 45,
              angle: 0,
              strokeColor: "#1e1e1e",
              backgroundColor: "#fbfbfb",
              fillStyle: "solid",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
              frameId: null,
              index: "aZ",
              roundness: null,
              seed: 2038725904,
              version: 88,
              versionNonce: 1988198384,
              isDeleted: false,
              boundElements: [],
              updated: 1750841057811,
              link: null,
              locked: false,
              text: "Mem0",
              fontSize: 36,
              fontFamily: 5,
              textAlign: "left",
              verticalAlign: "top",
              containerId: null,
              originalText: "Mem0",
              autoResize: true,
              lineHeight: 1.25,
            },
          ],
        }}
        excalidrawAPI={(api) => setExcalidrawAPI(api)}
        theme={theme}
      />
    </div>
  );
};

export default page;
